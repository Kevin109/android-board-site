{{ define "title" }}{{ .Title }} | {{ .Site.Title }}{{ end }}

{{ define "main" }}
<article class="post container">

  <!-- 顶部标题区 -->
  <header class="post-header">
    <h1 class="post-title">{{ .Title }}</h1>
    <div class="post-meta">
      <span>{{ .Date.Format "2006-01-02" }}</span>
      {{ with .ReadingTime }}<span>· {{ . }} min read</span>{{ end }}
      {{ with .Lastmod }}<span>· updated {{ .Format "2006-01-02" }}</span>{{ end }}
      {{ with .Params.tags }}
        <span class="dot">·</span>
        <ul class="post-tags">
          {{ range . }}
            <li>#{{ . }}</li>
          {{ end }}
        </ul>
      {{ end }}
    </div>
    {{ with .Params.description }}
      <p class="post-desc">{{ . }}</p>
    {{ end }}
  </header>

  <!-- 可选封面图 -->
  {{ with .Params.cover }}
  <figure class="post-cover">
    <img src="{{ . | relURL }}" alt="{{ $.Title }}">
  </figure>
  {{ end }}

  <div class="post-body">
    <!-- 正文 -->
    <div class="prose">
      {{ .Content }}
    </div>

    
    <aside class="toc">
      {{ if .TableOfContents }}
        <div class="toc-title">On this page</div>
        <nav class="toc-body">{{ .TableOfContents }}</nav>
      {{ end }}

      <!-- Featured Guides：固定出现在 TOC 下方 -->
      <div class="sidebar-card">
        <h3>Featured Guides</h3>
        <a class="cta-btn" href="/posts/android-sbc-vs-linux-sbc/">Read: Android SBC vs Linux SBC</a>
        <a class="cta-btn" href="/posts/arm-based-android-sbc/">Read: ARM-Based Android SBCs</a>
      </div>
    </aside>
  </div>

  <!-- 标签/上下篇导航 -->
  <footer class="post-footer">
    {{ with .Params.tags }}
      <div class="post-tags-row">
        {{ range . }}<a class="tag-chip" href="{{ "/tags/" | relLangURL }}{{ . | urlize }}">#{{ . }}</a>{{ end }}
      </div>
    {{ end }}

    <nav class="post-nav">
      <div class="post-prev">
        {{ with .PrevInSection }}
          <a href="{{ .RelPermalink }}">← {{ .Title }}</a>
        {{ end }}
      </div>
      <div class="post-next">
        {{ with .NextInSection }}
          <a href="{{ .RelPermalink }}">{{ .Title }} →</a>
        {{ end }}
      </div>
    </nav>
  </footer>
</article>
{{ end }}